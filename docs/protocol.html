<!--
    Copyright (C) 2016 Marco Scarpetta

    This file is part of Scopa.

    Scopa is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Scopa is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Scopa.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html>
    <head>
        <title>Scopa protocol</title>
        <meta charset="utf-8">
        <link rel="shortcut icon" type="image/svg" href="../data/icon.svg"/>
        <link rel="stylesheet" href="style.css">
    </head>
    
    <body>
        <p>
            <a href="index.html">Back to help</a>
        </p>
        <h1>Protocol</h1>
        
        <p>
            The Game class must implement the following method:
        </p>
        
        <p>
            <a href="#response">resonse</a> = Game.send(<a href="#message">message</a>)
        </p>
        
        <h2 id="message">Message</h2>
        <pre>
        {
            command: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type">string</a>
            data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Objects">object</a>
        }
        </pre>
        
        <table>
            <thead>
                <td>command</td>
                <td>data</td>
                <td>Description</td>
            </thead>
            <tr>
                <td>"start"</td>
                <td>[{type: "cpu", name: "cpu1"}, {type: "human", name: "Player"}]</td>
                <td>
                    Ask to start a new game with the players specified in the data
                    property
                </td>
            </tr>
            <tr>
                <td>"info"</td>
                <td>undefined</td>
                <td>Require infos about the game</td>
            </tr>
            <tr>
                <td>"human_play"</td>
                <td>{player: "player_name", card: "card_id", take: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type">number</a>}</td>
                <td>
                    Play the human card of player "player_name" with id "card_id", 
            </tr>
            <tr>
                <td>"next"</td>
                <td>undefined</td>
            </tr>
        </table>
        
        <h2 id="response">Response</h2>
        <pre>
        {
            cards: [<a href="#cards">Cards</a>, ...]
            infos: [<a href="#info">Info</a>, ...]
            moves: [<a href="#move">Move</a>, ...]
        }
        </pre>
        
        <h3 id="cards">Cards</h3>
        
        <table>
            <tr>
                <td>Command</td>
                <td>data</td>
            </tr>
            <tr>
                <td>"start"</td>
                <td>[{type: "cpu", name: "cpu1"}, {type: "human", name: "Player"}]</td>
            </tr>
        </table>
        
    </body>
</html> 
